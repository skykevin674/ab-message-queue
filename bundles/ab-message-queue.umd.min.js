!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("reflect-metadata"),require("rxjs"),require("@angular/core")):"function"==typeof define&&define.amd?define("ab-message-queue",["exports","reflect-metadata","rxjs","@angular/core"],t):t(e["ab-message-queue"]={},null,e.rxjs,e.ng.core)}(this,function(e,t,r,n){"use strict";var u=new r.Subject,a=function(){function e(){}return e.prototype.send=function(e,t){u.next({type:e,value:t})},e.prototype.bind=function(r){var e=Reflect.getMetadata("ab:message",r),n=Reflect.getMetadata("ab:handler",r);e&&e.subscribe(function(e){var t=n[e.type];t&&t.call(r,e.value)})},e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=n.defineInjectable({factory:function t(){return new e},token:e,providedIn:"root"}),e}(),o=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[a]}},e.decorators=[{type:n.NgModule,args:[{imports:[],declarations:[],exports:[]}]}],e}();e.AbMessageQueueService=a,e.AbMessageQueueModule=o,e.subject=u,e.MessageHandler=function(o){return function(e,t,r){if(!/(\w+\,)*\w+/.test(o))throw new Error("类型仅限字母数字下划线");var n=o.split(","),a=Reflect.getMetadata("ab:handler",e);a||(a=new Map),n.forEach(function(e){a[e]=r.value}),Reflect.defineMetadata("ab:message",u.asObservable(),e),Reflect.defineMetadata("ab:handler",a,e)}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ab-message-queue.umd.min.js.map